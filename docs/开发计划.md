# 开发阶段划分

## 阶段一：项目初始化
- 搭建 PyQt 应用骨架，创建主窗口与基础布局（标签区 + 图片区）。
- 封装配置与默认路径加载逻辑，完成目录/文件选择对话框。

## 阶段二：数据层与模型
- 实现文件扫描器：匹配图片与标签文件、维护可导航列表。
- 构建标签数据模型，负责英文/中文文本、翻译缓存与同步。
- 集成文件读写、`.bak` 备份生成、初始状态快照保存。

## 阶段三：界面交互
- 左侧标签视图：自定义项控件、增删改操作、快捷键绑定、`QUndoStack` 撤销体系。
- 右侧图片视图：`QGraphicsView` + `QGraphicsPixmapItem`，实现 30%–300% 限制的滚轮缩放与居中显示。
- 状态栏与快捷提示（当前文件、缩放比例、翻译模式、保存状态）。

## 阶段四：翻译模块
- 实现在线翻译器（LibreTranslate）：请求封装、失败重试、限流。
- 集成本地翻译备选方案（Argos Translate + 词典），设计链式调用机制。
- 提供翻译缓存与批量刷新逻辑。

## 阶段五：导航与保存
- 实现键盘左右键切换文件、切换前的自动保存与异常处理。
- 提供“恢复初始”按钮与 `.bak` 回滚功能。
- 处理缺失标签或图片的提示与创建流程。

## 阶段六：测试与优化
- 覆盖手动测试场景：标签同步、撤销/反撤销、翻译回退、缩放、文件切换。
- 补充日志与错误提示，确保失败场景（网络异常、缺少模型）有友好反馈。
- 代码整理、添加必要注释与配置项文档。

# 交付物
- PyQt 程序源码与相关资源文件。
- 包含依赖说明与运行指南的文档。
- 可选：简易本地词典初始数据文件。
